## 컴파일러

- 특정 프로그래밍 언어로 쓰여 있는 문서를 다른 프로그래밍 언어 혹은 컴퓨터 언어로 옮기는, **일종의 번역 프로그램**
- 보통 프로그래밍 high-level 프로그래밍 언어를 실행 프로그램으로 만들기 위한 loww-level언어(ex)어셈블리 언어, object코드 등)로 바꾸는 데에 사용
- **원래의 문서**를 **'소스코드'** 혹은 원시코드라고 부름
- **출력된 문서**를 **'목적 코드'**라고 부름



#### 컴파일 언어의 종류

C, C++, Java, C#



#### 실행단계

1. 구문 분석 : 소스 코드 파일을 읽어 추상 구문 트리 생성, **문법에 맞지 않는 소스 코드는 사용자에게 알림**
2. 최적화 : 추상 구문트리 분석 및 최적화
3. 코드 생성 : 목적 코드 생성(기계어 번역의 경우 레지스터 할당, 연산 순서 바꾸기 외)
4. 링킹 : 기계어 번역의 경우, **여러 라이브러리의 목적 코드를 묶어 하나의 실행파일 생성**
   - 일부는 이 과정을 컴파일 과정에서 제외함.



#### 컴파일 과정

1. 전처리기(Preprocessor) : #include등 #이 붙은 전처리기 구문을 처리
2. 컴파일러로 컴파일
3. 어셈블러(Assembler) : 완전히 기계어로 바꾸어주는 역할
4. 링커(Linker) 여러개의 오브젝트 파일을 하나로 합치거나, 라이브러리를 합침.



#### 컴파일러의 필수 조건

1. 컴파일러는 옮김의 과정에서 프로그램의 뜻을 보존해야 함.
   - 즉, 입력받은 프로그램의 의미를 충실히 따라야 함.
2. 컴파일러는 입력으로 들어온 프로그램을 실용적으로 개선해야 함.



#### 컴파일러의 기능

고급 언어를 직접 기계어 코드로 변환

자바의 경우 바이트 코드로 변환

- 장점 : 한 번 컴파일된 바이트 코드는 다른 플랫폼에서 재컴파일 없이 실행할 수 있음.
- 단점 : 바이트 코드를 해석해서 실행할 프로그램 구조가 필요. 직접 기계어 코드 실행시보다 느림

C/C++의 경우 직접 기계어 코드로 변환

마이크로프로세서는 각각 다른 기계어 코드를 가지고 있기에, 다른 기계어 코드를 생성해야함.



## 인터프리터 언어 (Interpreted Language)

컴파일러를 거쳐 기계어로 변환되지 않고 바로 실행되는 프로그래밍 언어를 말한다.

프로그래밍 언어 설계할 때 언어 설계자가 자신이 원하는 부분을 구현하는 데에 도움을 준다. 그래서 언어 설계 기간이 엄청나게 단축된다.

\- 인터프리터 언어의 종류 : Python, Ruby, Perl, PHP, JavaScript



#### 크로스 컴파일러 (Cross compiler)

다른 플랫폼(Windows, Mac)에서 다른 플랫폼(Android, iOS, Embedded OS)의 실행파일을 만들어주는 컴파일러를 크로스 컴파일러라고 말한다.



#### 바이트 코드 (Byte code)

고급 언어로 작성된 소스 코드를 가상머신이 이해할 수 있는 중간 코드로 컴파일 한 것을 말한다.

바이트코드는 인터프리터 방식으로 해석한다. 즉 바이트코드를 생성하는 것까지가 컴파일이고, 바이트코드 자체는 인터프리터 언어라는 것.



### 컴파일러와 인터프리터의 장단점

#### 컴파일러

장점 

1. 매번 번역할 필요가 없다 .

2. 인터프리터에 비해 실행 속도가 빠르다.

3. 전체 실행 시간 면에서 효율적이다.

 

단점

1. 실행 기계가 달라지면 새로 컴파일 해야한다.
2. 한 줄의 입력 시 프로그램이 때론 몇 백 개의 기계어로 번역되기 때문에 그 프로그램은 큰 기억용량을 요구한다. 특히 입출력 명령은 입출력 형식을 위한 코드 외에 기계 상태 파악코드로 인해 큰 기억 장치가 요구된다.



#### 인터프리터

장점

1. 컴파일러가 비교적 간단하게 되므로 마이크로컴퓨터의 컴파일러나 회화 형언어의 언어처리계에 잘 이용된다.
2. 프로그램이 될 때까지 원시 언어의 형태를 유지하기 때문에 기억 장소가 따로 필요하지 않다.



단점

1. 원시 프로그램을 직접 실행하기 때문에 이 실행에 필요한 소프트웨어가 항상 기계 안에 상주하면서 원시 프로그램의 명령들을 받아서 치리해야 한다. 만일 반복을 하게 되면 그때마다 원시 프로그램을 해석하고 처리해야 하기 때문에 많은 시간이 걸리기도 한다.
2. 실행 속도가 늦다
3. 인터프리터의 시행 시간은 컴파일러 방법에 비해 비효율적이다.



### 컴파일러와 인터프리터의 차이점.

**컴파일러**

1. 한번에 모두 읽고 실행하며, 첫 컴파일 과정이 오래 걸릴 수 있다.

2. 컴파일 이후에는 실행이 빠르고 더 이상 변환하지 않아도 된다.

3. 대표적으로 자바가 있다.



**인터프리터**

1. 코드를 한 줄 한 줄 읽어가며 명령을 처리한다.

2. 바로바로 수정 할 수 있어 용이하다

3. 한 문장씩 처리하기 때문에 속도는 컴파일러 언어에 비해 느리다.