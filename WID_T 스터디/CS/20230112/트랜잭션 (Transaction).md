## 트랜잭션 (Transaction)

- **데이터베이스의 상태를 변경시키기 위해 수행하는 작업 단위**이다.
- 데이터베이스의 상태를 변경시킨다는 이야기는 SELECT, UPDATE, INSERT, DELETE 와 같은 행동을 뜻한다.
- 이런 트랜잭션은 상황에 따라 **여러 개**가 만들어질 수 있다.
  그 하나의 트랜잭션은 Commit (저장) 되거나 Rollback (철회)될 수 있다.



### 특징 (ACID)

- **원자성(Atomicity)** : 트랜잭션이 DB에 모두 반영되거나, 전혀 반영되지 않거나를 의미합니다.
- **일관성(Consistency)**: 작업 처리의 결과가 항상 일관되어야 한다는 뜻입니다. 즉, 데이터 타입이 반환 후와 전이 항상 동일해야한다는 의미입니다.
- **독립성(Isolation)** : 하나의 트랜잭션은 다른 트랜잭션에 끼어들 수 없고 마찬가지로 독립적임을 의미합니다. 즉, 각각의 트랜잭션은 서로 간섭이 불가능합니다.
- **지속성(Durability)** : 트랜잭션이 성공적으로 완료되면 영구적으로 결과에 반영되어야함을 뜻합니다. 보통 commit이 된다면 지속성은 만족할 수 있습니다.



### Commit 과 Rollback

#### Commit

하나의 트랜잭션이 **성공적으로 끝나서 데이터베이스가 일관성있는 상태에 있음**을 의미합니다.

#### Rollback

트랜잭션의 원자성이 깨질 때, 즉 **하나의 트랜잭션 처리가 비정상적으로 종료** 되었을 때의 상태를 뜻합니다.
Rollback 이 이뤄진다면 트랜잭션을 다시 실행하거나 부분적으로 변경된 결과를 취소할 수 있습니다.



### 트랜잭션의 상태

- Active : 트랜잭션이 현재 실행 중인 상태
- Failed : 트랜잭션이 실행되다 오류가 발생해서 중단된 상태
- Aborted : 트랜잭션이 비정상 종료되어 Rollback 이 수행된 상태
- Partially Committed : 트랜잭션의 연산이 마지막까지 실행되고 Commit이 되기 직전 상태
- Committed : 트랜잭션이 성공적으로 종료되어 Commit 연산을 실행한 후의 상태